"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var r,n,e=t(require("jsbi")),i=t(require("tiny-invariant")),o=t(require("decimal.js-light")),a=t(require("big.js")),u=t(require("toformat")),s=require("@project-serum/anchor");(r=exports.TradeType||(exports.TradeType={}))[r.EXACT_INPUT=0]="EXACT_INPUT",r[r.EXACT_OUTPUT=1]="EXACT_OUTPUT",(n=exports.Rounding||(exports.Rounding={}))[n.ROUND_DOWN=0]="ROUND_DOWN",n[n.ROUND_HALF_UP=1]="ROUND_HALF_UP",n[n.ROUND_UP=2]="ROUND_UP";var c,d,l=e.BigInt("0xffffffffffffffffffffffffffffffff");function p(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function m(t,r,n){return r&&p(t.prototype,r),n&&p(t,n),t}function h(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}var f=u(o),y=u(a),v=((c={})[exports.Rounding.ROUND_DOWN]=f.ROUND_DOWN,c[exports.Rounding.ROUND_HALF_UP]=f.ROUND_HALF_UP,c[exports.Rounding.ROUND_UP]=f.ROUND_UP,c),g=((d={})[exports.Rounding.ROUND_DOWN]=0,d[exports.Rounding.ROUND_HALF_UP]=1,d[exports.Rounding.ROUND_UP]=3,d),x=function(){function t(t,r){void 0===r&&(r=e.BigInt(1)),this.numerator=e.BigInt(t),this.denominator=e.BigInt(r)}t.tryParseFraction=function(r){if(r instanceof e||"number"==typeof r||"string"==typeof r)return new t(r);if("numerator"in r&&"denominator"in r)return r;throw new Error("Could not parse fraction")};var r=t.prototype;return r.invert=function(){return new t(this.denominator,this.numerator)},r.add=function(r){var n=t.tryParseFraction(r);return e.equal(this.denominator,n.denominator)?new t(e.add(this.numerator,n.numerator),this.denominator):new t(e.add(e.multiply(this.numerator,n.denominator),e.multiply(n.numerator,this.denominator)),e.multiply(this.denominator,n.denominator))},r.subtract=function(r){var n=t.tryParseFraction(r);return e.equal(this.denominator,n.denominator)?new t(e.subtract(this.numerator,n.numerator),this.denominator):new t(e.subtract(e.multiply(this.numerator,n.denominator),e.multiply(n.numerator,this.denominator)),e.multiply(this.denominator,n.denominator))},r.lessThan=function(r){var n=t.tryParseFraction(r);return e.lessThan(e.multiply(this.numerator,n.denominator),e.multiply(n.numerator,this.denominator))},r.equalTo=function(r){var n=t.tryParseFraction(r);return e.equal(e.multiply(this.numerator,n.denominator),e.multiply(n.numerator,this.denominator))},r.greaterThan=function(r){var n=t.tryParseFraction(r);return e.greaterThan(e.multiply(this.numerator,n.denominator),e.multiply(n.numerator,this.denominator))},r.multiply=function(r){var n=t.tryParseFraction(r);return new t(e.multiply(this.numerator,n.numerator),e.multiply(this.denominator,n.denominator))},r.divide=function(r){var n=t.tryParseFraction(r);return new t(e.multiply(this.numerator,n.denominator),e.multiply(this.denominator,n.numerator))},r.toSignificant=function(t,r,n){void 0===r&&(r={groupSeparator:""}),void 0===n&&(n=exports.Rounding.ROUND_HALF_UP),Number.isInteger(t)||i(!1),t>0||i(!1),f.set({precision:t+1,rounding:v[n]});var e=new f(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return e.toFormat(e.decimalPlaces(),r)},r.toFixed=function(t,r,n){return void 0===r&&(r={groupSeparator:""}),void 0===n&&(n=exports.Rounding.ROUND_HALF_UP),Number.isInteger(t)||i(!1),t>=0||i(!1),y.DP=t,y.RM=g[n],new y(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,r)},m(t,[{key:"quotient",get:function(){return e.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new t(e.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new t(this.numerator,this.denominator)}}]),t}(),w=u(a),F=function(t){function r(r,n,o){var a;return a=t.call(this,n,o)||this,e.lessThanOrEqual(a.quotient,l)||i(!1),a.currency=r,a.decimalScale=e.exponentiate(e.BigInt(10),e.BigInt(r.decimals)),a}h(r,t),r.fromRawAmount=function(t,n){return new r(t,n)},r.fromFractionalAmount=function(t,n,e){return new r(t,n,e)};var n=r.prototype;return n.add=function(n){this.currency.equals(n.currency)||i(!1);var e=t.prototype.add.call(this,n);return r.fromFractionalAmount(this.currency,e.numerator,e.denominator)},n.subtract=function(n){this.currency.equals(n.currency)||i(!1);var e=t.prototype.subtract.call(this,n);return r.fromFractionalAmount(this.currency,e.numerator,e.denominator)},n.multiply=function(n){var e=t.prototype.multiply.call(this,n);return r.fromFractionalAmount(this.currency,e.numerator,e.denominator)},n.divide=function(n){var e=t.prototype.divide.call(this,n);return r.fromFractionalAmount(this.currency,e.numerator,e.denominator)},n.toSignificant=function(r,n,e){return void 0===r&&(r=6),void 0===e&&(e=exports.Rounding.ROUND_DOWN),t.prototype.divide.call(this,this.decimalScale).toSignificant(r,n,e)},n.toFixed=function(r,n,e){return void 0===r&&(r=this.currency.decimals),void 0===e&&(e=exports.Rounding.ROUND_DOWN),r<=this.currency.decimals||i(!1),t.prototype.divide.call(this,this.decimalScale).toFixed(r,n,e)},n.toExact=function(t){return void 0===t&&(t={groupSeparator:""}),w.DP=this.currency.decimals,new w(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(t)},m(r,[{key:"wrapped",get:function(){return this.currency.isToken?this:r.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),r}(x),b=new x(e.BigInt(100));function N(t){return new O(t.numerator,t.denominator)}var _,A,O=function(t){function r(){var r;return(r=t.apply(this,arguments)||this).isPercent=!0,r}h(r,t);var n=r.prototype;return n.add=function(r){return N(t.prototype.add.call(this,r))},n.subtract=function(r){return N(t.prototype.subtract.call(this,r))},n.multiply=function(r){return N(t.prototype.multiply.call(this,r))},n.divide=function(r){return N(t.prototype.divide.call(this,r))},n.toSignificant=function(r,n,e){return void 0===r&&(r=5),t.prototype.multiply.call(this,b).toSignificant(r,n,e)},n.toFixed=function(r,n,e){return void 0===r&&(r=2),t.prototype.multiply.call(this,b).toFixed(r,n,e)},r}(x),T=function(t){function r(){for(var r,n,i,o,a,u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];if(4===s.length)n=s[0],i=s[1],o=s[2],a=s[3];else{var d=s[0].quoteAmount.divide(s[0].baseAmount),l=[s[0].baseAmount.currency,s[0].quoteAmount.currency,d.denominator,d.numerator];n=l[0],i=l[1],o=l[2],a=l[3]}return(r=t.call(this,a,o)||this).baseCurrency=n,r.quoteCurrency=i,r.scalar=new x(e.exponentiate(e.BigInt(10),e.BigInt(n.decimals)),e.exponentiate(e.BigInt(10),e.BigInt(i.decimals))),r}h(r,t);var n=r.prototype;return n.invert=function(){return new r(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||i(!1);var e=t.prototype.multiply.call(this,n);return new r(this.baseCurrency,n.quoteCurrency,e.denominator,e.numerator)},n.quote=function(r){r.currency.equals(this.baseCurrency)||i(!1);var n=t.prototype.multiply.call(this,r);return F.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(t,r,n){return void 0===t&&(t=6),this.adjustedForDecimals.toSignificant(t,r,n)},n.toFixed=function(t,r,n){return void 0===t&&(t=4),this.adjustedForDecimals.toFixed(t,r,n)},m(r,[{key:"adjustedForDecimals",get:function(){return t.prototype.multiply.call(this,this.scalar)}}]),r}(x),D=function(t,r,n,e){Number.isSafeInteger(t)||i(!1),r>=0&&r<255&&Number.isInteger(r)||i(!1),this.chainId=t,this.decimals=r,this.symbol=n,this.name=e},E=function(t){function r(){var r;return(r=t.apply(this,arguments)||this).isNative=!0,r.isToken=!1,r}return h(r,t),r}(D),U=function(t){function r(r,n,e,i,o){var a;return(a=t.call(this,r,e,i,o)||this).isNative=!1,a.isToken=!0,a.address=n,a}h(r,t);var n=r.prototype;return n.equals=function(t){return t.isToken&&this.chainId===t.chainId&&this.address===t.address},n.sortsBefore=function(t){this.chainId!==t.chainId&&i(!1),this.address===t.address&&i(!1);var r=new s.web3.PublicKey(this.address.toString()),n=new s.web3.PublicKey(t.address.toString()),e=new s.BN(r.toBuffer()),o=new s.BN(n.toBuffer());return e.lt(o)},m(r,[{key:"wrapped",get:function(){return this}}]),r}(D),P=((_={})[1]=new U(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),_[3]=new U(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),_[4]=new U(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),_[5]=new U(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),_[42]=new U(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),_[10]=new U(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),_[69]=new U(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),_[42161]=new U(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),_[421611]=new U(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),_),S=function(t){function r(r){return t.call(this,r,18,"ETH","Ether")||this}return h(r,t),r.onChain=function(t){var n;return null!=(n=this._etherCache[t])?n:this._etherCache[t]=new r(t)},r.prototype.equals=function(t){return t.isNative&&t.chainId===this.chainId},m(r,[{key:"wrapped",get:function(){var t=P[this.chainId];return t||i(!1),t}}]),r}(E);S._etherCache={};var R=((A={})[101]=new U(101,"So11111111111111111111111111111111111111112",9,"SOL","Wrapped SOL"),A[102]=new U(102,"So11111111111111111111111111111111111111112",9,"wSOL","Wrapped SOL"),A[103]=new U(103,"So11111111111111111111111111111111111111112",9,"SOL","Wrapped SOL"),A),I=e.BigInt(Number.MAX_SAFE_INTEGER),q=e.BigInt(0),W=e.BigInt(1),C=e.BigInt(2);exports.CurrencyAmount=F,exports.Ether=S,exports.Fraction=x,exports.MaxUint128=l,exports.NativeCurrency=E,exports.Percent=O,exports.Price=T,exports.Token=U,exports.WETH9=P,exports.WSOL=R,exports.computePriceImpact=function(t,r,n){var e=t.quote(r),i=e.subtract(n).divide(e);return new O(i.numerator,i.denominator)},exports.sortedInsert=function(t,r,n,e){if(n>0||i(!1),t.length<=n||i(!1),0===t.length)return t.push(r),null;var o=t.length===n;if(o&&e(t[t.length-1],r)<=0)return r;for(var a=0,u=t.length;a<u;){var s=a+u>>>1;e(t[s],r)<=0?a=s+1:u=s}return t.splice(a,0,r),o?t.pop():null},exports.sqrt=function(t){if(e.greaterThanOrEqual(t,q)||i(!1),e.lessThan(t,I))return e.BigInt(Math.floor(Math.sqrt(e.toNumber(t))));var r,n;for(r=t,n=e.add(e.divide(t,C),W);e.lessThan(n,r);)r=n,n=e.divide(e.add(e.divide(t,n),n),C);return r},exports.validateAndParseAddress=function(t){return t};
//# sourceMappingURL=sdk-core.cjs.production.min.js.map
